<div class="grid">
  <section class="card">
    <h1>Admin Dashboard</h1>
    <p>Platform overview, health metrics, and latest activity.</p>
  </section>

  <section class="metrics">
    <div class="metric card">
      <div class="icon"><i class="bi bi-people"></i></div>
      <div class="metric-content">
        <div class="value">{{ membersCount }}</div>
        <div class="label">Total Members</div>
      </div>
    </div>
    <div class="metric card">
      <div class="icon"><i class="bi bi-person-workspace"></i></div>
      <div class="metric-content">
        <div class="value">{{ suppliersCount }}</div>
        <div class="label">Total Suppliers</div>
      </div>
    </div>
    <div class="metric card">
      <div class="icon"><i class="bi bi-briefcase"></i></div>
      <div class="metric-content">
        <div class="value">{{ activeJobsCount }}</div>
        <div class="label">Active Jobs</div>
      </div>
    </div>
    <div class="metric card">
      <div class="icon"><i class="bi bi-cash-stack"></i></div>
      <div class="metric-content">
        <div class="value">R{{ totalTransactionValue.toLocaleString() }}</div>
        <div class="label">Total Transaction Value</div>
      </div>
    </div>
    <div class="metric card">
      <div class="icon"><i class="bi bi-wallet2"></i></div>
      <div class="metric-content">
        <div class="value">R{{ tapsosaRevenue.toLocaleString() }}</div>
        <div class="label">TAPSOSA Revenue (7%)</div>
      </div>
    </div>
    <div class="metric card">
      <div class="icon"><i class="bi bi-percent"></i></div>
      <div class="metric-content">
        <div class="value">{{ escrowFundRate }}%</div>
        <div class="label">Escrow Fund Rate</div>
      </div>
    </div>
  </section>

  <section class="grid cols-2">
    <div class="card">
      <h3>Platform Health</h3>
      <div class="rows">
        <div class="row"><div>Completion Rate</div><div>{{ completionRate }}%</div></div>
        <div class="row"><div>Dispute Rate</div><div>0%</div></div>
        <div class="row"><div>Verified Suppliers</div><div>N/A</div></div>
      </div>
    </div>
    <div class="card">
      <h3>Recent Activity</h3>
      <ul class="activity">
        <li *ngFor="let a of recent">
          <span>{{ a.type }}</span>
          <span>Job {{ a.jobId }}</span>
          <span>{{ a.amount ? ('R' + a.amount.toLocaleString()) : '' }}</span>
          <span class="time">{{ a.timestamp | date:'short' }}</span>
        </li>
        <li *ngIf="recent.length===0" class="muted">No recent activity</li>
      </ul>
    </div>
  </section>

  <section class="grid cols-3">
    <a class="card link" routerLink="/admin/users/members">
      <h3>User Management</h3>
      <p>Members, Suppliers, Admins, and Verifications</p>
    </a>
    <a class="card link" routerLink="/admin/jobs">
      <h3>Job Management</h3>
      <p>Jobs, Categories, Flags, Analytics</p>
    </a>
    <a class="card link" routerLink="/admin/finance/revenue">
      <h3>Financial Management</h3>
      <p>Revenue, Transactions, Escrow, Payouts</p>
    </a>
  </section>
</div>
