<section class="card">
  <h1>Supplier Transactions</h1>
  <p class="muted">Track awarded work, escrow status, and payouts.</p>

  <div class="metrics">
    <div class="metric">
      <div class="value">{{ totalCount }}</div>
      <div class="label">Contracts</div>
    </div>
    <div class="metric">
      <div class="value">R{{ totalPendingNet.toLocaleString() }}</div>
      <div class="label">Net Pending</div>
    </div>
    <div class="metric">
      <div class="value">R{{ totalReleasedNet.toLocaleString() }}</div>
      <div class="label">Net Paid Out</div>
    </div>
  </div>

  <div class="table">
    <div class="row head">
      <div>Job</div><div>Status</div><div>Gross</div><div>Net</div><div>Last Update</div>
    </div>
    <div class="row" *ngFor="let r of rows">
      <div class="job">{{ r.jobTitle }}</div>
      <div>
        <span class="badge" [ngClass]="{ accepted: r.status === 'released' }">{{ r.statusLabel }}</span>
      </div>
      <div>R{{ r.gross.toLocaleString() }}</div>
      <div>R{{ r.net.toLocaleString() }}</div>
      <div>{{ r.lastWhen || 'â€”' }}</div>
    </div>
    <div class="muted" *ngIf="rows.length === 0">No transactions yet</div>
  </div>
</section>
